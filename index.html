<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <link rel="stylesheet" href="css/video-js.css" />
        <link rel="stylesheet" href="css/default.css" />
        <title>Knox County TN Traffic Center</title>
        <script type="text/javascript" src="js/support.js"></script>
        <script type="text/javascript">
            var showAll = null;
            var showcase = null;

            calcMaxPlayers();

            function startPlayers() {
                videojs.options.controls = false;
                videojs.options.autoplay = 'muted';
                videojs.options.preload = 'auto';
                videojs.options.width = width;
                videojs.options.height = height;
                if (showcase !== null) {
                    loadShowcase(showcase);
                } else {
                    loadMain();
                }
            }

            function addVideo(id, region, scale) {
                var video = document.createElement("video-js");
                video.id = 'video' + id;
                var source = document.createElement("source");
                source.src = getVideoURL(id);
                video.appendChild(source);
                if (region === "showcase") {
                    video.onmousedown = function () {
                        showcase = null;
                        clearAll();
                        loadMain();
                    };
                } else {
                    video.onmousedown = function () {
                        showcase = id;
                        clearAll();
                        loadShowcase(id);
                    };
                }
                if (typeof region === 'undefined') {
                    var mainDiv = document.getElementById('main');
                    mainDiv.appendChild(video);
                    videojs('video' + id);
                } else {
                    var div = document.getElementById(region);
                    div.appendChild(video);
                    videojs('video' + id, {width: width * scale, height: height * scale});
                }
            }

            function destroyNode(node) {
                if (node.nodeName === 'VIDEO-JS') {
                    videojs(node.id).dispose();
                } else {
                    node.remove();
                }
            }
        </script>
    </head>
    <body onLoad="startPlayers()" onResize="resize()">
        <iframe id="incidents" src="https://smartway.tn.gov/traffic/text/region/1/incidents" sandbox="allow-scripts allow-same-origin"></iframe>
        <h1>Knox County TN Traffic Center</h1>
        <button id="showAll" onClick="clearAll();
                showAllCams();">Show all cams</button>
        <div id="video-wrapper">
            <div id="main"></div>
            <div id="left">
                <div id="top">
                </div>
                <div id="showcase">
                </div>
            </div>

            <div id="right">
            </div>

            <div id="bottom">
            </div>
        </div>

        <script src="js/video.min.js"></script>
    </body>
